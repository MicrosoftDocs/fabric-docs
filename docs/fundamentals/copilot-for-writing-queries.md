---
title: Copilot for Writing KQL Queries
description: "Learn how to use Copilot to write queries in KQL Queryset."
author: spelluru
ms.author: spelluru
ms.reviewer: mibar
ms.topic: conceptual
ms.custom:
ms.date: 11/19/2024
no-loc: [Copilot]
ms.collection: ce-skilling-ai-copilot
---
# Copilot for Writing KQL Queries

You can use Copilot to translate your natural language questions into Kusto Query Language (KQL) queries. Simply describe what you want to analyze or find in plain language, and Copilot will generate the corresponding KQL query for you. This makes it easier for anyone—regardless of their familiarity with KQL—to explore and analyze data efficiently.

For billing information about Copilot, see [Announcing Copilot in Fabric pricing](https://blog.fabric.microsoft.com/en-us/blog/announcing-fabric-copilot-pricing-2/).

## Prerequisites

* A [workspace](../fundamentals/create-workspaces.md) with a Microsoft Fabric-enabled [capacity](../enterprise/licenses.md#capacity)
* Write access to a [KQL queryset](../real-time-analytics/create-query-set.md)

[!INCLUDE [copilot-note-include](../includes/copilot-note-include.md)]

## Capabilities of Copilot for Writing Queries in KQL

Copilot lets you effortlessly translate natural language queries into Kusto Query Language (KQL). The copilot acts as a bridge between everyday language and KQL's technical intricacies, and in doing so removes adoption barriers for data analysts and citizen data scientists. By harnessing OpenAI's advanced language understanding, this feature allows you to submit business questions in a familiar, natural language format, which are then converted into KQL queries. Copilot accelerates productivity by simplifying the query creation process with a user-friendly and efficient approach to data analysis.

Copilot supports **conversational interactions** which allows you to clarify, adapt, and extend your queries dynamically, all while maintaining the context of your previous inputs.  You can refine queries and ask follow-up questions without starting over:

* Dynamic query refinement: You can refine the initial KQL generated by Copilot by refining your prompt to remove ambiguity, specify tables or columns, or provide more context.

* Seamless follow-up questions: If the generated KQL is correct but you want to explore the data more deeply, you can ask follow-up questions related to the same task. You can expand the scope of your query, add filters, or explore related data points by building on previous dialogue.

## Using Copilot for Writing Queries in KQL

You can access Copilot in two ways:

- **Through a KQL queryset:**  
    Navigate to a new or existing [KQL queryset](../real-time-intelligence/kusto-query-set.md) and use the Copilot feature to generate queries from natural language prompts.

- **Through the Edit tile in Real-Time Dashboards:**  
    When editing a tile in a [Real-Time dashboard] (../real-time-intelligence/dashboard-real-time-create.md), you can use Copilot to help create or refine KQL queries directly within the dashboard editing experience.

Follow the steps below to use Copilot in either context:

1. In the Copilot pane, enter your business question in natural language.
1. Press **Enter**.
    After a few seconds, Copilot will generate a KQL query based on your input. You can copy the query to the clipboard, **Insert** it to the query editor or **Replace** the query in context with it. To run the query in the query editor, you must have write access to the KQL queryset.
1. Select the **Run** button to execute the query.

    :::image type="content" source="media/copilot-real-time-intelligence/copilot-conversation.png" alt-text="Screenshot of copilot use in KQL queryset in Real-Time Intelligence." lightbox="media/copilot-real-time-intelligence/copilot-conversation.png":::

    > [!NOTE]
    >* Copilot doesn't generate control commands.
    >* Copilot doesn't automatically run the generated KQL query. Users are advised to run the queries at their own discretion.

You can continue to ask follow-up questions or further refine your query. To start a new chat, select the speech bubble on the top right of the Copilot pane (1).

Hover over a previous question (2) and select the **pencil** icon to copy it to the question box to edit it, or copy it to your clipboard.

:::image type="content" source="media/copilot-real-time-intelligence/edit-question.png" alt-text="Screenshot showing how to copy or edit a previous question." lightbox="media/copilot-real-time-intelligence/edit-question.png":::

## Improve the accuracy of Copilot for KQL Queries

Here are some tips that can help improve the accuracy of the KQL queries generated by Copilot:

* Start with simple natural language prompts, to learn the current capabilities and limitations. Then, gradually proceed to more complex prompts.
* State the task precisely, and avoid ambiguity. Imaging you shared the natural language prompt with few KQL experts from your team without adding oral instructions - would they be able to generate the correct query?
* To generate the most accurate query, supply any relevant information that can help the model. If you can, specify tables, operators, or functions that are critical to the query.
* Prepare your database:
    Add docstring properties to describe common tables and columns. This might be redundant for descriptive names (for example, timestamp) but is critical to describe tables or columns with meaningless names. You don't have to add docstring to tables or columns that are rarely used. For more information, see [.alter table column-docstrings command](/azure/data-explorer/kusto/management/alter-column-docstrings?context=/fabric/context/context-rta&pivots=fabric).
* To improve Copilot results, select either the **like** or **dislike** icon to submit your comments in the **Submit feedback** form.

> [!NOTE]
> The **Submit feedback** form submits the name of the database, its url, the KQL query generated by copilot, and any free text response you include in the feedback submission. Results of the executed KQL query aren't sent.

### Limitations

* Copilot might suggest potentially inaccurate or misleading suggested KQL queries due to:
  * Complex and long user input.
  * User input that directs to database entities that aren't KQL Database tables or materialized views (for example KQL function.)
* More than 10,000 concurrent users within an organization can result in failure or a major performance hit.

## Related content

* [Privacy, security, and responsible use of Copilot for Real-Time Intelligence (preview)](copilot-real-time-intelligence-privacy-security.md)
* [Copilot for Microsoft Fabric: FAQ](copilot-faq-fabric.yml)
* [Overview of Copilot in Fabric (preview)](copilot-fabric-overview.md)
* [Query data in a KQL queryset](../real-time-intelligence/kusto-query-set.md)
