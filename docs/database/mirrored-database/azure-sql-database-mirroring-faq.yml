### YamlMime:FAQ
metadata:
  title: "Frequently asked questions for Mirroring Azure SQL Database in Microsoft Fabric (Preview)"
  description: This article answers frequently asked questions about Mirroring Azure SQL Database in Microsoft Fabric (Preview).
  author: WilliamDAssafMSFT
  ms.author: wiassaf
  ms.reviewer: imotiwala, roblescarlos
  ms.service: fabric
  ms.topic: faq
  ms.date: 03/14/2024
title: "Frequently asked questions for Mirroring Azure SQL Database in Microsoft Fabric (Preview)"
summary: |
  This article answers frequently asked questions about Mirroring Azure SQL Database in Microsoft Fabric.

sections:
  - name: Features and capabilities
    questions:
      - question: |
          What authentication to the Azure SQL Database is allowed? 
        answer: 
          Currently, for authentication to the source Azure SQL Database, we support SQL authentication with user name and password, Microsoft Entra ID, and Service Principal. 

      - question: |
           Is there a staging or landing zone for Azure SQL Database? If so, is it outside of OneLake? 
        answer: 
          A landing zone in OneLake stores both the snapshot and change data, to improve performance when converting files into delta verti-parquet.

      - question: |
          How long does the initial replication take? 
        answer: 
          It depends on the size of the data that is being brought in. 

      - question: |
          How long does it take to replicate inserts/updates/deletes? 
        answer: 
          Near real-time latency.
      - question: |
          Do you support replicating of views, transient or external tables? 
        answer: 
          No. Currently, only replicating regular tables are supported.

      - question: |
          How do I manage connections? 
        answer: 
          Select the settings cog, then select on **Manage connection and gateways**. You can also delete existing connections from this page.

      - question: |
          Can Power BI reports on mirrored data use direct lake mode?
        answer: 
          Yes, since tables are all v-ordered delta tables.

  - name: Troubleshoot Mirroring Azure SQL Database in Microsoft Fabric
    questions:
      - question: |
          How do I know Fabric is replicating data on my Azure SQL Database? 
        answer: |
           If you're experiencing mirroring problems, perform the following database level checks using Dynamic Management Views (DMVs) and stored procedures to validate configuration. [Contact support](/power-bi/support/service-support-options) if troubleshooting is required.
           1. Execute the following query to check if the changes properly flow: 
              ```sql
              SELECT * FROM sys.dm_change_feed_log_scan_sessions 
              ```
           1. If the `sys.dm_change_feed_log_scan_sessions` DMV doesn't show any progress on processing incremental changes, execute the below query to check if there are any problems reported:
              ```sql
              SELECT * FROM sys.dm_change_feed_errors;
              ```
           1. If there aren't any issues reported, execute the following stored procedure to review the current configuration of the mirrored Azure SQL Database. Confirm it was properly enabled.
              ```sql
              exec sp_help_change_feed;
              ```
              The key columns to look for here are the `table_name` and `state`. Any value besides `4` indicates a potential problem. 

      - question: |
          How to enable System assigned managed identity (SAMI) on SQL Server? 
        answer: |
          With a single step in the Azure portal, you can [enable System Assigned Managed Identity (SAMI) of your Azure SQL logical server](azure-sql-database-tutorial.md#enable-system-assigned-managed-identity-sami-of-your-azure-sql-logical-server).

      - question: |
          How to stop/disable Mirroring from your Azure SQL Database?  
        answer: |
          If you're unable to Stop mirroring your Azure SQL Database from the Fabric portal, or unable to delete your mirrored Azure SQL database item from Fabric, execute the following stored procedure on your Azure SQL Database: `exec sp_change_feed_disable_db;`

      - question: |
          What are the replication statuses? 
        answer: 
          See [Monitor Fabric Mirror replication](monitor.md).

      - question: |
          Can Azure SQL Database Mirroring be accessed through the Power BI Gateway or behind a firewall? 
        answer: 
          Currently, access through the Power BI Gateway or behind a firewall is unsupported.

      - question: |
          What are the results of stopping Mirroring?
        answer: 
          Replication stops in the source database, but a copy of the tables is kept in OneLake. Restarting the mirroring results in all data being replicated from the start.

      - question: |
          What steps does restarting the Mirroring include? 
        answer: 
           The data from source tables will be reinitialized. Each time you stop and start, the entire table is fetched again.

      - question: |
           What happens if I remove a table from Mirroring?
        answer: 
           The table is no longer replicated and its data is deleted from OneLake.

      - question: |
          If I delete the Mirror, does it affect the source Azure SQL database? 
        answer: 
          No, we just remove the streaming tables.

      - question: |
          Can I mirror the same source database multiple times? 
        answer: 
          Yes, you can, but you shouldn't need to. Once the data is in Fabric, it can be shared from there.

      - question: |
          Can I mirror only specific tables from my Azure SQL database? 
        answer: 
          Yes, specific tables can be selected during Mirroring configuration.
  - name: Security
    questions:
      - question: |
          Is data ever leaving the customers Fabric tenant? 
        answer: 
          No. 
      - question: |
          Is data staged outside of a customer environment? 
        answer: 
          No. Data isn't staged outside of customer environment, it's staged in the customer's OneLake.

  - name: Cost Management 
    questions:
      - question: |
          What are the costs associated with Mirroring?
        answer: 
          During preview, there's no cost for Mirroring or storing mirrored data in Fabric. Cost of the source Azure SQL Database is separate from Fabric Mirroring.
      - question: |
          What do we recommend a customer do to avoid or reduce Azure SQL Database costs? 
        answer: 
          See [Plan and manage costs for Azure SQL Database](/azure/azure-sql/database/cost-management). Consider using a dedicated, smaller Azure SQL Database, based on requirements.
      - question: |
          How are ingress fees handled? 
        answer: 
          Fabric doesn't charge for Ingress fees into OneLake for Mirroring.

  - name: Licensing
    questions:
      - question: |
          What are licensing options for Fabric Mirroring? 
        answer:
          A Power BI Premium, Fabric Capacity, or Trial Capacity is required. For more information on licensing, see [Microsoft Fabric licenses](../../enterprise/licenses.md).
      - question: |
          How are egress fees handled?
        answer: 
          If the Azure SQL Database is located in a different region from your Fabric capacity, data egress will be charged. If in the same region, there is no data egress.

additionalContent: |

  ## Related content

  - [What is Mirroring in Fabric?](overview.md)
  - [Azure SQL Database Mirroring in Microsoft Fabric](azure-sql-database.md)